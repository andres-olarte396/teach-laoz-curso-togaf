# Proceso de Gestion de Cambios Arquitectonicos

**Tiempo estimado**: 30 minutos
**Nivel**: Intermedio-Avanzado
**Prerrequisitos**: Triggers de Cambio (7.2.1)

---

## Por que importa este subtema?

Sin un proceso estructurado, los cambios a la arquitectura ocurren de manera ad-hoc, resultando en inconsistencias, conflictos y arquitectura fragmentada. La gestion de cambios asegura que todas las modificaciones se evaluen, aprueben e implementen de manera controlada.

---

## Que es la Gestion de Cambios Arquitectonicos

> "El proceso formal para solicitar, evaluar, aprobar, implementar y documentar cambios a la arquitectura empresarial y sus artefactos."

**Diferencia con Change Management de TI**:
- ITIL Change Management: Cambios operacionales (deployments, configs)
- Architecture Change Management: Cambios a la arquitectura misma

---

## Ciclo de Vida del Cambio

```
+----------+     +----------+     +----------+     +----------+
| SOLICITUD|---->| EVALUACION|---->| APROBACION|---->| IMPLEMENTACION|
+----------+     +----------+     +----------+     +----------+
     ^                |                |                 |
     |                v                v                 v
     |          +---------+      +---------+       +---------+
     |          | RECHAZO |      | RECHAZO |       | VALIDACION|
     |          +---------+      +---------+       +---------+
     |                                                   |
     +---------------------------------------------------+
                        FEEDBACK
```

### Estados del Cambio

| Estado | Descripcion |
|--------|-------------|
| Borrador | RFC en elaboracion |
| Enviado | Esperando evaluacion |
| En Evaluacion | Siendo analizado |
| Pendiente Aprobacion | Evaluado, esperando decision |
| Aprobado | Autorizado para implementar |
| En Implementacion | Siendo ejecutado |
| Implementado | Completado |
| Validado | Verificado post-implementacion |
| Rechazado | No autorizado |
| Cancelado | Retirado por solicitante |

---

## Request for Change (RFC) Arquitectonico

### Template de RFC

```markdown
# Architecture Change Request
# RFC-2026-042

## 1. Informacion General

| Campo | Valor |
|-------|-------|
| ID | RFC-2026-042 |
| Titulo | Migracion de API Gateway a Kong |
| Solicitante | Juan Perez (Platform Team) |
| Fecha solicitud | 2026-03-15 |
| Prioridad | Alta |
| Estado | En Evaluacion |

## 2. Descripcion del Cambio

### Situacion Actual
El API Gateway actual (Apigee) tiene costos de licenciamiento
elevados y carece de features requeridos para service mesh.

### Cambio Propuesto
Migrar de Apigee a Kong Enterprise como API Gateway corporativo.

### Justificacion
- Reduccion de costos 60% ($500K/ano)
- Mejor integracion con Kubernetes
- Soporte nativo para service mesh
- Comunidad open source activa

## 3. Trigger del Cambio

| Campo | Valor |
|-------|-------|
| Tipo de trigger | Financiero / Tecnologico |
| ID del trigger | TR-2026-015 |
| Urgencia | Media (renovacion contrato en 6 meses) |

## 4. Analisis de Impacto

### Dominios Afectados
| Dominio | Impacto | Descripcion |
|---------|---------|-------------|
| Negocio | Bajo | Sin cambio en procesos |
| Datos | Bajo | Sin cambio en flujos de datos |
| Aplicaciones | Alto | 45 APIs a migrar |
| Tecnologia | Alto | Nueva plataforma, nueva operacion |

### Sistemas Impactados
| Sistema | Tipo de Impacto | Esfuerzo |
|---------|-----------------|----------|
| Mobile App | Reconfiguracion | 2 dias |
| Portal Web | Reconfiguracion | 2 dias |
| Partner APIs | Migracion | 2 semanas |
| Internal APIs | Migracion | 4 semanas |

### Stakeholders Impactados
| Stakeholder | Impacto | Comunicacion |
|-------------|---------|--------------|
| Dev Teams | Capacitacion | Workshop |
| DevOps | Nueva operacion | Training + docs |
| Partners | Nuevos endpoints | Aviso 60 dias |

## 5. Opciones Evaluadas

| Opcion | Descripcion | Pros | Contras |
|--------|-------------|------|---------|
| A: Kong | Migrar a Kong | Costo, features | Esfuerzo migracion |
| B: AWS API GW | Usar AWS nativo | Simple si ya en AWS | Vendor lock-in |
| C: Renovar Apigee | Mantener actual | Sin esfuerzo | Costo alto |
| D: DIY | Construir interno | Control total | Costo, riesgo |

**Recomendacion**: Opcion A (Kong)

## 6. Plan de Implementacion

### Fases
| Fase | Descripcion | Duracion |
|------|-------------|----------|
| 1. Piloto | 5 APIs internas | 4 semanas |
| 2. Internas | Resto de APIs internas | 6 semanas |
| 3. Partners | APIs de partners | 4 semanas |
| 4. Decomision | Apagar Apigee | 2 semanas |

### Timeline
```
Mar     Abr     May     Jun     Jul     Ago
|-------|-------|-------|-------|-------|
[Piloto ][    Internas    ][Partners][Decomision]
```

### Rollback Plan
- Mantener Apigee activo durante migracion
- Traffic puede redirigirse en minutos
- Rollback completo posible hasta Fase 3

## 7. Riesgos

| Riesgo | Probabilidad | Impacto | Mitigacion |
|--------|--------------|---------|------------|
| APIs incompatibles | Media | Alto | POC temprano |
| Downtime migracion | Baja | Alto | Blue-green deployment |
| Curva aprendizaje | Alta | Medio | Capacitacion pre-migracion |
| Partners no actualizan | Media | Medio | Soporte dual temporal |

## 8. Recursos Requeridos

| Recurso | Cantidad | Duracion |
|---------|----------|----------|
| Platform Engineer | 2 | 4 meses |
| DevOps | 1 | 4 meses |
| Architect | 0.5 | 4 meses |
| Presupuesto | $80,000 | Implementacion |

## 9. Metricas de Exito

| Metrica | Objetivo | Medicion |
|---------|----------|----------|
| APIs migradas | 100% | Dashboard |
| Downtime | < 1 hora total | Monitoreo |
| Latencia | <= actual | APM |
| Ahorro anual | $500K | Finanzas |

## 10. Aprobaciones Requeridas

| Rol | Nombre | Estado | Fecha |
|-----|--------|--------|-------|
| Domain Architect | Maria Lopez | Pendiente | |
| Chief Architect | Carlos Ruiz | Pendiente | |
| Platform Lead | Ana Garcia | Aprobado | 2026-03-18 |
| Finance | Pedro Sanchez | Pendiente | |
```

---

## Proceso de Evaluacion

### Criterios de Evaluacion

```markdown
## Matriz de Evaluacion de RFC

### Alineacion Estrategica (25%)
| Criterio | Score (1-5) | Peso | Total |
|----------|-------------|------|-------|
| Alinea con vision IT | 4 | 40% | 1.6 |
| Soporta objetivos de negocio | 3 | 30% | 0.9 |
| Consistente con principios | 5 | 30% | 1.5 |
| **Subtotal** | | | **4.0** |

### Viabilidad Tecnica (25%)
| Criterio | Score (1-5) | Peso | Total |
|----------|-------------|------|-------|
| Complejidad tecnica | 4 | 30% | 1.2 |
| Disponibilidad de skills | 3 | 30% | 0.9 |
| Madurez de tecnologia | 4 | 40% | 1.6 |
| **Subtotal** | | | **3.7** |

### Impacto (25%)
| Criterio | Score (1-5) | Peso | Total |
|----------|-------------|------|-------|
| Beneficio esperado | 5 | 40% | 2.0 |
| Riesgo | 3 | 30% | 0.9 |
| Alcance del impacto | 4 | 30% | 1.2 |
| **Subtotal** | | | **4.1** |

### Recursos (25%)
| Criterio | Score (1-5) | Peso | Total |
|----------|-------------|------|-------|
| Disponibilidad recursos | 4 | 40% | 1.6 |
| Costo vs presupuesto | 4 | 30% | 1.2 |
| Timeline realista | 3 | 30% | 0.9 |
| **Subtotal** | | | **3.7** |

### Score Total
| Area | Score | Peso | Total |
|------|-------|------|-------|
| Alineacion | 4.0 | 25% | 1.0 |
| Viabilidad | 3.7 | 25% | 0.93 |
| Impacto | 4.1 | 25% | 1.03 |
| Recursos | 3.7 | 25% | 0.93 |
| **TOTAL** | | | **3.89/5** |

**Recomendacion**: APROBAR (Score > 3.5)
```

---

## Niveles de Aprobacion

```
NIVEL DE CAMBIO              APROBADOR
-----------------            ---------

Menor (Bajo impacto)    -->  Domain Architect
(< $10K, 1 sistema)

Significativo           -->  Chief Architect
($10K-$100K, multi-sistema)

Mayor                   -->  Architecture Board
(> $100K, cross-domain)

Estrategico             -->  CIO/Steering Committee
(Transformacional)
```

### Definicion de Niveles

| Nivel | Criterios | Ejemplos |
|-------|-----------|----------|
| Menor | 1 sistema, bajo riesgo, < $10K | Update de libreria, nuevo endpoint |
| Significativo | Multiples sistemas, riesgo medio | Nuevo building block, integracion |
| Mayor | Cross-domain, alto riesgo | Cambio de plataforma, nuevo dominio |
| Estrategico | Transformacional | Migracion cloud, nueva arquitectura |

---

## Architecture Board

### Composicion

```markdown
## Architecture Board

### Miembros Permanentes
| Rol | Responsabilidad |
|-----|-----------------|
| Chief Architect | Chair, voto de calidad |
| Business Architect | Perspectiva de negocio |
| Data Architect | Perspectiva de datos |
| Application Architect | Perspectiva aplicaciones |
| Technology Architect | Perspectiva infraestructura |
| Security Architect | Perspectiva seguridad |

### Miembros Invitados (segun tema)
- Solicitante del RFC
- SMEs relevantes
- Representantes de negocio

### Reglas de Operacion
- Reunion: Quincenal (o extraordinaria si urgente)
- Quorum: 4 de 6 permanentes
- Decision: Consenso preferido, mayoria si necesario
- Documentacion: Acta de decisiones
```

### Agenda Tipica

```markdown
## Agenda Architecture Board
## Fecha: 2026-03-20

1. Revision de actas anteriores (5 min)
2. RFCs para decision:
   - RFC-2026-042: Migracion API Gateway (30 min)
   - RFC-2026-043: Nuevo MDM (30 min)
3. RFCs en seguimiento:
   - RFC-2026-038: Estado de implementacion
4. Actualizacion de estandares (15 min)
5. Temas varios (10 min)
```

---

## Documentacion Post-Cambio

### Actualizacion de Artefactos

```markdown
## Checklist Post-Implementacion

### Documentacion a Actualizar
- [ ] Architecture Definition Document
- [ ] Standards and Guidelines
- [ ] Reference Architecture
- [ ] Building Block Catalog
- [ ] Compliance Checklists

### Repository Updates
- [ ] Modelos actualizados en EA tool
- [ ] Diagramas regenerados
- [ ] Versiones incrementadas
- [ ] Changelog actualizado

### Comunicacion
- [ ] Anuncio a equipos afectados
- [ ] Training materials actualizados
- [ ] FAQ publicado
```

---

## Metricas del Proceso

```markdown
## KPIs de Gestion de Cambios

| Metrica | Definicion | Objetivo |
|---------|------------|----------|
| Lead Time | Tiempo desde solicitud hasta implementacion | < 30 dias (menor) |
| Cycle Time | Tiempo desde evaluacion hasta decision | < 5 dias |
| Tasa Aprobacion | % de RFCs aprobados | 70-80% |
| Tasa Exito | % de cambios exitosos | > 95% |
| Rollbacks | % de cambios revertidos | < 5% |
| Deuda generada | Nuevos items de deuda tecnica | Decreciente |
```

---

## Resumen

| Concepto | Descripcion |
|----------|-------------|
| RFC | Solicitud formal de cambio |
| Evaluacion | Analisis de alineacion, viabilidad, impacto |
| Niveles | Menor, significativo, mayor, estrategico |
| Architecture Board | Organo de gobierno para decisiones |
| Post-cambio | Actualizar artefactos y comunicar |

**Siguiente modulo**: Building Blocks y Repositorio (Modulo 8)
