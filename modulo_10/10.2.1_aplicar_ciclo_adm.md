# Aplicar el Ciclo ADM al Proyecto

**Tiempo estimado**: 60 minutos
**Nivel**: Avanzado
**Prerrequisitos**: Requisitos y Restricciones (10.1.2), ADM Ciclo Completo (Modulo 2)

---

## Por que importa este subtema?

Este es el nucleo del proyecto integrador: aplicar el ciclo ADM completo al caso RetailCorp. Aqui se pone en practica todo lo aprendido, generando los artefactos clave de cada fase.

---

## Preliminary Phase

### Establecer Capacidad de Arquitectura

```markdown
## Preliminary Phase: RetailCorp

### Framework Adoptado
- TOGAF 10 como framework base
- ArchiMate 3.2 para modelado
- ADM adaptado al contexto retail

### Principios de Arquitectura (Resumen)
| ID | Principio | Implicacion |
|----|-----------|-------------|
| P1 | Customer First | CX guia decisiones |
| P2 | Cloud First | AWS como default |
| P3 | API First | Todo expuesto via API |
| P4 | Buy over Build | SaaS cuando sea posible |
| P5 | Data-Driven | Decisiones basadas en datos |

### Governance Establecido
- Architecture Board: Chief Architect + Domain Architects
- Review quincenal de avances
- Compliance review antes de cada fase

### Herramientas
- Sparx EA para modelado
- Confluence para documentacion
- JIRA para tracking
```

---

## Phase A: Architecture Vision

### Request for Architecture Work

```markdown
## Request for Architecture Work

### Sponsor
Maria Garcia, CEO RetailCorp

### Objetivo
Desarrollar arquitectura empresarial para habilitar la
transformacion digital de RetailCorp hacia un modelo
retail omnicanal, digital-first.

### Drivers de Negocio
1. Perdida de market share vs competidores digitales
2. NPS decreciente por experiencia fragmentada
3. Costos de TI elevados por legacy
4. Time-to-market lento para nuevas capacidades

### Alcance
- Los 4 dominios de arquitectura
- Fases A-F del ADM
- Horizonte 2026-2028

### Restricciones Principales
- Budget $25M en 3 anos
- AWS como cloud primario
- SAP como ERP (S/4HANA)
```

### Stakeholder Map

```
                    PODER
                    Alto
                      |
         +------------+------------+
         |            |            |
    CFO  |   CEO      |    CIO     | Board
   (Keep |  (Manage   |  (Manage   |
Satisfied)| Closely)  |  Closely)  |
         |            |            |
    -----+------------+------------+-----
         |            |            |  INTERES
   Legal |  Suppliers |  IT Teams  |   Alto
   (Monitor)          | (Keep      |
         |            | Informed)  |
         |            |            |
         +------------+------------+
                      |
                    Bajo
```

### Architecture Vision Document (Extracto)

```markdown
## Architecture Vision

### Vision Statement
"En 2028, RetailCorp sera reconocido como el retailer con la
mejor experiencia omnicanal del pais, donde cada interaccion
del cliente sera personalizada, consistente y memorable,
soportada por una plataforma tecnologica moderna y agil."

### Business Capabilities Target

+--------------------------------------------------+
|              RETAILCORP CAPABILITIES             |
+--------------------------------------------------+
|                                                  |
|  CUSTOMER ENGAGEMENT                             |
|  +---------------------------------------------+ |
|  | Customer   | Personalized | Unified        | |
|  | 360 View   | Marketing    | Commerce       | |
|  +---------------------------------------------+ |
|                                                  |
|  OPERATIONS                                      |
|  +---------------------------------------------+ |
|  | Smart      | Connected    | Agile          | |
|  | Fulfillment| Store        | Supply Chain   | |
|  +---------------------------------------------+ |
|                                                  |
|  FOUNDATION                                      |
|  +---------------------------------------------+ |
|  | Data       | Modern       | Cloud          | |
|  | Platform   | Integration  | Infrastructure | |
|  +---------------------------------------------+ |
+--------------------------------------------------+

### High-Level Target Architecture

+------------------+     +------------------+
|   CHANNELS       |     |   CUSTOMERS      |
| Web | Mobile |   |<--->| B2C | B2B        |
| Store | Social   |     |                  |
+--------+---------+     +------------------+
         |
+--------v---------+
|   EXPERIENCE     |
|   LAYER          |
| Headless CMS     |
| Personalization  |
+--------+---------+
         |
+--------v---------+
|   COMMERCE       |
|   PLATFORM       |
| Commercetools    |
| Order Mgmt       |
+--------+---------+
         |
+--------v---------+
|   INTEGRATION    |
|   LAYER          |
| API Gateway      |
| Event Bus        |
+--------+---------+
         |
+--------v---------+
|   BACK-OFFICE    |
| SAP S/4 | WMS    |
| CRM | Analytics  |
+------------------+

### Value Proposition
| Stakeholder | Valor |
|-------------|-------|
| Clientes | Experiencia personalizada y consistente |
| Empleados tienda | Herramientas modernas, menos friccion |
| TI | Plataforma moderna, menos mantenimiento |
| Negocio | Time-to-market rapido, insights |
| Accionistas | Competitividad, ROI |
```

---

## Phase B: Business Architecture

### Capability Map

```
RETAILCORP CAPABILITY MAP (Target State)
=========================================

STRATEGIC CAPABILITIES
+-----------------------------------------------------------+
| CUSTOMER    | MERCHANDISING | BRAND &      | CORPORATE   |
| MANAGEMENT  | & ASSORTMENT  | MARKETING    | STRATEGY    |
+-------------+---------------+--------------+-------------+
|*Customer 360|*Product Info  |*Personalized |*Data-Driven |
|*Segmentation| Management    | Marketing    | Planning    |
|*Loyalty     |*Pricing &     |*Campaign     |*Performance |
| Program     | Promotions    | Management   | Analytics   |
+-----------------------------------------------------------+

CORE CAPABILITIES
+-----------------------------------------------------------+
| OMNICHANNEL | FULFILLMENT  | SUPPLY CHAIN | STORE        |
| COMMERCE    |              |              | OPERATIONS   |
+-------------+--------------+--------------+--------------+
|*Unified Cart|*Order Orch.  |*Demand       |*Modern POS   |
|*Checkout    |*Ship-from-   | Forecasting  |*Clienteling  |
|*Returns     | Store        |*Inventory    |*Task Mgmt    |
|             |*Click&Collect| Optimization |*Queue Mgmt   |
+-----------------------------------------------------------+

ENABLING CAPABILITIES
+-----------------------------------------------------------+
| TECHNOLOGY  | DATA         | INTEGRATION  | SECURITY     |
| PLATFORM    | PLATFORM     |              |              |
+-------------+--------------+--------------+--------------+
|*Cloud Infra |*Data Lake    |*API Gateway  |*Identity     |
|*DevOps      |*Real-time    |*Event-Driven |*Access Mgmt  |
|*Observability| Streaming   |*B2B Gateway  |*Fraud Detect |
+-----------------------------------------------------------+

* = Requiere transformacion
```

### Key Process: Customer Journey

```
CUSTOMER JOURNEY: OMNICHANNEL PURCHASE
======================================

DISCOVER          EVALUATE          PURCHASE         RECEIVE          SUPPORT
---------         --------          --------         -------          -------
    |                 |                 |               |                |
    v                 v                 v               v                v
+-------+        +--------+        +--------+      +--------+       +--------+
|Search |        |Compare |        |Checkout|      |Track   |       |Return  |
|Browse |------->|Reviews |------->|Pay     |----->|Receive |------>|Support |
|Discover        |Try     |        |        |      |        |       |        |
+-------+        +--------+        +--------+      +--------+       +--------+
    |                 |                 |               |                |
    | Personalized    | Store +         | Unified       | Real-time      | Omni
    | recommendations | Online          | cart          | tracking       | support
    |                 |                 |               |                |
    v                 v                 v               v                v
+---------------------------------------------------------------+
|                    CUSTOMER DATA PLATFORM                      |
|              Single View of Customer (Customer 360)            |
+---------------------------------------------------------------+
```

---

## Phase C: Information Systems Architecture

### Data Architecture

#### Modelo Conceptual de Datos

```
                        CUSTOMER
                           |
           +---------------+---------------+
           |               |               |
        PROFILE        BEHAVIOR         LOYALTY
      (Master data)   (Events)        (Points, Tier)
           |               |               |
           +-------+-------+-------+-------+
                   |               |
               PREFERENCE      SEGMENT
                   |               |
                   +-------+-------+
                           |
                       INTERACTION
                     (Touchpoints)
                           |
        +------------------+------------------+
        |                  |                  |
     ORDER              PRODUCT            STORE
        |                  |                  |
   +----+----+       +-----+-----+           |
   |         |       |           |           |
ITEM     PAYMENT  CATEGORY   INVENTORY    LOCATION

```

#### Data Flow: Customer 360

```
SOURCES                 INTEGRATION              CONSUMPTION
-------                 -----------              -----------

+--------+
| POS    |----+
+--------+    |
              |     +------------+      +------------+
+--------+    +---->|            |      |            |
|Ecommerce---->     | Event      |----->| Customer   |
+--------+    +---->| Streaming  |      | Data       |
              |     | (Kafka)    |      | Platform   |
+--------+    |     +------------+      | (Segment)  |
| CRM    |----+            |            +-----+------+
+--------+                 |                  |
                           v                  v
+--------+           +------------+     +------------+
| Social |---------->| Data Lake  |---->| Customer   |
+--------+           | (S3+Glue)  |     | 360 API    |
                     +------------+     +------------+
+--------+                 |                  |
| Mobile |----+            v                  v
+--------+    |      +------------+     +------------+
              +----->| ML Platform|---->|Personalization|
+--------+           | (SageMaker)|     | Engine       |
|Surveys |---------->+------------+     +------------+
+--------+
```

### Application Architecture

#### Portfolio Target

```markdown
## Application Portfolio - Target State

### Commerce Domain
| Aplicacion | Funcion | Tecnologia | Estado |
|------------|---------|------------|--------|
| Commercetools | Headless commerce | SaaS | Nuevo |
| Contentful | CMS headless | SaaS | Nuevo |
| Algolia | Search & discovery | SaaS | Nuevo |
| Adyen | Payments | SaaS | Nuevo |

### Operations Domain
| Aplicacion | Funcion | Tecnologia | Estado |
|------------|---------|------------|--------|
| SAP S/4HANA | ERP core | Cloud | Upgrade |
| Manhattan Active | WMS | SaaS | Nuevo |
| NewStore | Store platform | SaaS | Nuevo |

### Customer Domain
| Aplicacion | Funcion | Tecnologia | Estado |
|------------|---------|------------|--------|
| Segment | CDP | SaaS | Nuevo |
| Braze | Marketing automation | SaaS | Nuevo |
| Salesforce Service | Service cloud | Upgrade | Existente |

### Data & Analytics
| Aplicacion | Funcion | Tecnologia | Estado |
|------------|---------|------------|--------|
| Snowflake | Data warehouse | SaaS | Nuevo |
| Tableau | BI & visualization | SaaS | Upgrade |
| AWS SageMaker | ML platform | PaaS | Nuevo |

### Platform
| Aplicacion | Funcion | Tecnologia | Estado |
|------------|---------|------------|--------|
| Kong | API Gateway | Managed | Nuevo |
| AWS MSK | Event streaming | Managed | Nuevo |
| Okta | Identity | SaaS | Nuevo |
```

#### Integration Architecture

```
+----------------------------------------------------------+
|                     API GATEWAY (Kong)                    |
|  Rate Limiting | Auth | Routing | Monitoring              |
+---------------------------+------------------------------+
                            |
        +-------------------+-------------------+
        |                   |                   |
+-------v-------+   +-------v-------+   +-------v-------+
|  Commerce     |   |  Customer     |   |  Operations   |
|  APIs         |   |  APIs         |   |  APIs         |
| - Catalog     |   | - Profile     |   | - Orders      |
| - Cart        |   | - Loyalty     |   | - Inventory   |
| - Checkout    |   | - Preferences |   | - Fulfillment |
+-------+-------+   +-------+-------+   +-------+-------+
        |                   |                   |
+-------v-------------------v-------------------v-------+
|                  EVENT BUS (Kafka)                     |
|  order.created | inventory.updated | customer.updated  |
+-------+-------------------+-------------------+-------+
        |                   |                   |
+-------v-------+   +-------v-------+   +-------v-------+
| Commercetools |   |   Segment     |   |  SAP S/4     |
+---------------+   +---------------+   +---------------+
```

---

## Phase D: Technology Architecture

### Target Technology Stack

```
+----------------------------------------------------------+
|                        CDN (CloudFront)                   |
+----------------------------------------------------------+
                            |
+----------------------------------------------------------+
|                     WAF + Shield                          |
+----------------------------------------------------------+
                            |
+----------------------------------------------------------+
|                  PRESENTATION LAYER                       |
|   React (Web) | React Native (Mobile) | PWA (Store)      |
+----------------------------------------------------------+
                            |
+----------------------------------------------------------+
|                  API GATEWAY (Kong)                       |
+----------------------------------------------------------+
                            |
+----------------------------------------------------------+
|                  APPLICATION LAYER                        |
|   +-------------+  +-------------+  +-------------+       |
|   | Kubernetes  |  | Lambda      |  | ECS Fargate |       |
|   | (EKS)       |  | (Serverless)|  | (Containers)|       |
|   +-------------+  +-------------+  +-------------+       |
+----------------------------------------------------------+
                            |
+----------------------------------------------------------+
|                  DATA LAYER                               |
|   +-------------+  +-------------+  +-------------+       |
|   | Aurora      |  | DynamoDB    |  | ElastiCache |       |
|   | (PostgreSQL)|  | (NoSQL)     |  | (Redis)     |       |
|   +-------------+  +-------------+  +-------------+       |
|                                                           |
|   +-------------+  +-------------+  +-------------+       |
|   | S3          |  | MSK (Kafka) |  | Snowflake   |       |
|   | (Storage)   |  | (Events)    |  | (DW)        |       |
|   +-------------+  +-------------+  +-------------+       |
+----------------------------------------------------------+
                            |
+----------------------------------------------------------+
|                  PLATFORM SERVICES                        |
|   Secrets Manager | CloudWatch | X-Ray | Systems Manager |
+----------------------------------------------------------+
```

### Network Architecture

```
+----------------------------------------------------------+
|                         INTERNET                          |
+-----------------------------+----------------------------+
                              |
                    +---------v---------+
                    |   CloudFront CDN  |
                    +---------+---------+
                              |
                    +---------v---------+
                    | Route53 + WAF     |
                    +---------+---------+
                              |
+-----------------------------v----------------------------+
|                      AWS VPC (Main)                       |
|  +--------------------------------------------------+    |
|  |                 PUBLIC SUBNETS                   |    |
|  |   ALB | NAT Gateway | Bastion                    |    |
|  +--------------------------------------------------+    |
|                          |                               |
|  +--------------------------------------------------+    |
|  |                PRIVATE SUBNETS (App)             |    |
|  |   EKS Nodes | Lambda | Fargate                   |    |
|  +--------------------------------------------------+    |
|                          |                               |
|  +--------------------------------------------------+    |
|  |                PRIVATE SUBNETS (Data)            |    |
|  |   Aurora | ElastiCache | MSK                     |    |
|  +--------------------------------------------------+    |
+----------------------------------------------------------+
              |                              |
     +--------v--------+            +--------v--------+
     | Direct Connect  |            | Site-to-Site VPN|
     | (Datacenter)    |            | (Stores)        |
     +-----------------+            +-----------------+
```

---

## Resumen de Artefactos ADM

| Fase | Artefacto Principal | Completado |
|------|---------------------|------------|
| Preliminary | Principios, Governance | Si |
| Phase A | Architecture Vision | Si |
| Phase B | Capability Map, Procesos | Si |
| Phase C | Data Model, App Portfolio | Si |
| Phase D | Tech Stack, Network | Si |

**Siguiente subtema**: Documentacion Completa (10.2.2)
