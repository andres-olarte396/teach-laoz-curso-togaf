# Modelado Conceptual de Datos

**Tiempo estimado**: 30 minutos
**Nivel**: Intermedio
**Prerrequisitos**: Modulo 3 completo (Arquitectura de Negocio)

---

## Por que importa este subtema?

Los datos son el activo mas valioso de la mayoria de las organizaciones modernas. En la Fase C del ADM, el modelado de datos asegura que:

1. Entendemos que datos necesita el negocio
2. Definimos como se relacionan las entidades
3. Establecemos la base para aplicaciones e integraciones

El modelo conceptual es el primer nivel, enfocado en **que** datos existen, no en **como** se almacenan.

---

## Niveles de Modelado de Datos

```
NIVEL CONCEPTUAL
  "Que datos necesita el negocio"
  - Entidades de negocio
  - Relaciones logicas
  - Atributos clave
  - Independiente de tecnologia
        |
        v
NIVEL LOGICO
  "Como se estructuran los datos"
  - Tablas normalizadas
  - Claves primarias/foraneas
  - Tipos de datos
  - Aun independiente de DBMS especifico
        |
        v
NIVEL FISICO
  "Como se implementan los datos"
  - DDL especifico
  - Indices, particiones
  - Configuracion de DBMS
  - Optimizaciones de rendimiento
```

**En Fase C producimos**: Conceptual y Logico
**En implementacion**: Fisico

---

## Modelo Conceptual de Datos

### Que incluye

| Elemento | Descripcion | Ejemplo |
|----------|-------------|---------|
| **Entidad** | Concepto de negocio sobre el cual se almacenan datos | Cliente, Producto, Pedido |
| **Atributo** | Caracteristica de una entidad | Nombre, Precio, Fecha |
| **Relacion** | Asociacion entre entidades | Cliente *realiza* Pedido |
| **Cardinalidad** | Cuantas instancias se relacionan | 1:N, M:N |

### Notacion

```
+------------------+          +------------------+
|     CLIENTE      |          |     PEDIDO       |
+------------------+          +------------------+
| * cliente_id     |          | * pedido_id      |
| o nombre         | 1      N | o fecha          |
| o email          |----------| o estado         |
| o segmento       |  realiza | o total          |
+------------------+          +------------------+
                                      | 1
                                      |
                                      | N contiene
                                      |
                              +------------------+
                              |  LINEA_PEDIDO    |
                              +------------------+
                              | * linea_id       |
                              | o cantidad       |
                              | o precio_unitario|
                              +------------------+
                                      | N
                                      |
                                      | 1 de
                                      |
                              +------------------+
                              |    PRODUCTO      |
                              +------------------+
                              | * producto_id    |
                              | o nombre         |
                              | o descripcion    |
                              | o precio_lista   |
                              +------------------+

Leyenda:
* = Identificador (PK)
o = Atributo
1 = Uno
N = Muchos
```

---

## Proceso de Modelado Conceptual

### Paso 1: Identificar entidades

Fuentes:
- Procesos de negocio (Modulo 3)
- Business scenarios
- Documentos existentes
- Entrevistas con expertos de dominio

**Pregunta clave**: "Sobre que cosas necesitamos guardar informacion?"

### Paso 2: Definir atributos clave

Para cada entidad:
- Que informacion es esencial?
- Cual es el identificador unico?
- Que atributos son obligatorios vs opcionales?

### Paso 3: Establecer relaciones

- Como se conectan las entidades?
- Cual es la cardinalidad? (1:1, 1:N, M:N)
- Es obligatoria u opcional la relacion?

### Paso 4: Validar con negocio

- Cubre todos los requisitos?
- Los nombres son claros para negocio?
- Las relaciones reflejan la realidad?

---

## Artefactos TOGAF

### Data Entity/Data Component Catalog

```markdown
# Data Entity Catalog

| ID | Entidad | Descripcion | Owner | Sensibilidad |
|----|---------|-------------|-------|--------------|
| DE-001 | Cliente | Persona u organizacion que compra | Ventas | PII |
| DE-002 | Producto | Articulo que se vende | Productos | Publica |
| DE-003 | Pedido | Solicitud de compra de un cliente | Ventas | Confidencial |
| DE-004 | Factura | Documento de cobro | Finanzas | Confidencial |
| DE-005 | Pago | Transaccion de pago recibido | Finanzas | PCI |
```

### Data Entity/Business Function Matrix

| Entidad | Ventas | Marketing | Finanzas | Operaciones |
|---------|--------|-----------|----------|-------------|
| Cliente | C,R,U | R | R | R |
| Producto | R | R,U | R | C,R,U |
| Pedido | C,R,U | R | R | R,U |
| Factura | R | - | C,R,U | R |
| Pago | R | - | C,R,U | - |

**C** = Crea, **R** = Lee, **U** = Actualiza, **D** = Elimina

---

## Dominios de Datos

Agrupar entidades relacionadas:

```
DOMINIO: CLIENTE
+------------------+
| - Cliente        |
| - Contacto       |
| - Direccion      |
| - Segmento       |
| - Historial      |
+------------------+

DOMINIO: PRODUCTO
+------------------+
| - Producto       |
| - Categoria      |
| - Precio         |
| - Inventario     |
| - Proveedor      |
+------------------+

DOMINIO: TRANSACCION
+------------------+
| - Pedido         |
| - Linea Pedido   |
| - Factura        |
| - Pago           |
| - Devolucion     |
+------------------+
```

---

## Ejemplo: Modelo Conceptual E-commerce

```
                            +------------------+
                            |    CATEGORIA     |
                            +------------------+
                            | * categoria_id   |
                            | o nombre         |
                            | o descripcion    |
                            +--------+---------+
                                     | 1
                                     |
                                     | N pertenece
                                     |
+------------------+          +------+----------+
|     CLIENTE      |          |    PRODUCTO     |
+------------------+          +-----------------+
| * cliente_id     |          | * producto_id   |
| o nombre         |          | o sku           |
| o email          |          | o nombre        |
| o tipo (B2B/B2C) |          | o precio_base   |
| o fecha_registro |          | o stock         |
+--------+---------+          +--------+--------+
         | 1                           | 1
         |                             |
         | N realiza                   | N
         |                             |
+--------+---------+          +--------+--------+
|     PEDIDO       |          |  LINEA_PEDIDO   |
+------------------+ 1      N +--------+--------+
| * pedido_id      |----------| * linea_id      |
| o fecha          | contiene | o cantidad      |
| o estado         |          | o precio_unit   |
| o total          |          | o descuento     |
| o canal          |          +-----------------+
+--------+---------+
         | 1
         |
         | N genera
         |
+--------+---------+
|     FACTURA      |
+------------------+
| * factura_id     |
| o numero         |
| o fecha_emision  |
| o total          |
| o estado         |
+--------+---------+
         | 1
         |
         | N recibe
         |
+--------+---------+
|      PAGO        |
+------------------+
| * pago_id        |
| o fecha          |
| o monto          |
| o metodo         |
| o referencia     |
+------------------+
```

---

## Errores Comunes

| Error | Consecuencia | Prevencion |
|-------|--------------|------------|
| Incluir detalles fisicos | Modelo atado a tecnologia | Mantener nivel conceptual |
| Entidades demasiado granulares | Complejidad innecesaria | Agrupar conceptos relacionados |
| Nombres tecnicos | Negocio no entiende | Usar vocabulario de negocio |
| Omitir relaciones | Modelo incompleto | Validar cada conexion |
| No definir cardinalidad | Ambiguedad | Especificar 1:1, 1:N, M:N |

---

## Resumen

| Concepto | Descripcion |
|----------|-------------|
| Modelo conceptual | Entidades y relaciones de negocio |
| Entidad | Concepto sobre el que guardamos datos |
| Relacion | Conexion entre entidades |
| Cardinalidad | Cuantos de cada lado |
| Dominio | Agrupacion de entidades relacionadas |

**Siguiente subtema**: Modelado Logico de Datos (4.1.2)
