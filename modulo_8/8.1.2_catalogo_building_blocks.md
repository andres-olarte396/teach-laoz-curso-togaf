# Catalogo de Building Blocks

**Tiempo estimado**: 30 minutos
**Nivel**: Intermedio
**Prerrequisitos**: ABB vs SBB (8.1.1)

---

## Por que importa este subtema?

Un catalogo de building blocks bien gestionado es el corazon de la reutilizacion arquitectonica. Permite a los equipos encontrar rapidamente componentes existentes, evitando duplicacion y promoviendo consistencia en toda la organizacion.

---

## Que es el Catalogo de Building Blocks

> "Un repositorio estructurado de todos los building blocks aprobados para uso en la organizacion, incluyendo sus especificaciones, relaciones y estado de ciclo de vida."

**Beneficios**:
- Reutilizacion de componentes
- Reduccion de duplicacion
- Consistencia arquitectonica
- Aceleracion del delivery
- Gobierno efectivo

---

## Estructura del Catalogo

```
BUILDING BLOCK CATALOG
|
+-- ABB Catalog
|   |
|   +-- Business ABBs
|   +-- Data ABBs
|   +-- Application ABBs
|   +-- Technology ABBs
|
+-- SBB Catalog
|   |
|   +-- Products & Platforms
|   +-- Services (Cloud)
|   +-- Custom Components
|
+-- Patterns Catalog
|   |
|   +-- Integration Patterns
|   +-- Security Patterns
|   +-- Data Patterns
|
+-- Standards Catalog
    |
    +-- Technology Standards
    +-- Development Standards
    +-- Security Standards
```

---

## Esquema de Metadata

### Para ABBs

```markdown
## ABB Metadata Schema

### Identificacion
| Campo | Tipo | Descripcion |
|-------|------|-------------|
| ID | String | Identificador unico (ABB-XXX-NNN) |
| Nombre | String | Nombre descriptivo |
| Version | SemVer | Version del ABB |
| Estado | Enum | Draft, Active, Deprecated, Retired |
| Dominio | Enum | Business, Data, Application, Technology |

### Descripcion
| Campo | Tipo | Descripcion |
|-------|------|-------------|
| Descripcion | Text | Proposito del building block |
| Capacidades | List | Funcionalidades que provee |
| Casos de uso | List | Cuando usar este ABB |
| Antipatrones | List | Cuando NO usar |

### Especificacion
| Campo | Tipo | Descripcion |
|-------|------|-------------|
| Interfaces | List | APIs/interfaces que expone |
| NFRs | Map | Requisitos no funcionales |
| Dependencias | List | Otros ABBs requeridos |
| Estandares | List | Estandares que debe cumplir |

### Gobernanza
| Campo | Tipo | Descripcion |
|-------|------|-------------|
| Owner | String | Arquitecto responsable |
| Fecha creacion | Date | Cuando se creo |
| Ultima revision | Date | Ultima actualizacion |
| SBBs asociados | List | Implementaciones aprobadas |
```

### Para SBBs

```markdown
## SBB Metadata Schema

### Identificacion
| Campo | Tipo | Descripcion |
|-------|------|-------------|
| ID | String | Identificador unico (SBB-XXX-NNN) |
| ABB realizado | String | ID del ABB que implementa |
| Producto | String | Nombre del producto/servicio |
| Version | String | Version del producto |
| Proveedor | String | Vendor o comunidad |

### Implementacion
| Campo | Tipo | Descripcion |
|-------|------|-------------|
| Tipo | Enum | SaaS, PaaS, IaaS, On-premise, Custom |
| Ambiente | Enum | Prod, Non-prod, DR, All |
| Configuracion | Doc | Referencia a config base |
| Topologia | Doc | Diagrama de deployment |

### Cumplimiento
| Campo | Tipo | Descripcion |
|-------|------|-------------|
| Capacidades ABB | Map | Mapeo capacidades -> implementacion |
| NFRs | Map | Cumplimiento de cada NFR |
| Gaps | List | Capacidades no cubiertas |

### Operacion
| Campo | Tipo | Descripcion |
|-------|------|-------------|
| Runbook | URL | Link a documentacion operativa |
| Monitoreo | URL | Dashboard de monitoreo |
| Soporte | String | Equipo/proveedor de soporte |
| SLA | Doc | Acuerdo de nivel de servicio |

### Ciclo de vida
| Campo | Tipo | Descripcion |
|-------|------|-------------|
| Estado | Enum | Pilot, Active, Deprecated, Retired |
| Fecha EOL | Date | End of life del producto |
| Roadmap | URL | Link a roadmap del vendor |
```

---

## Ejemplo de Catalogo

### Vista de Lista

```markdown
## ABB Catalog - Application Domain

| ID | Nombre | Estado | Descripcion | SBBs |
|----|--------|--------|-------------|------|
| ABB-APP-001 | API Gateway | Active | Gestion de APIs | Kong, AWS APIGW |
| ABB-APP-002 | Message Broker | Active | Mensajeria asincrona | Kafka, SQS |
| ABB-APP-003 | Identity Provider | Active | Autenticacion/autorizacion | Okta |
| ABB-APP-004 | BPM Engine | Active | Workflow de procesos | Camunda |
| ABB-APP-005 | Search Engine | Active | Busqueda full-text | Elasticsearch |
| ABB-APP-006 | Cache Layer | Active | Cache distribuido | Redis |
| ABB-APP-007 | File Storage | Active | Almacenamiento de archivos | S3 |
| ABB-APP-008 | Notification Service | Active | Envio de notificaciones | SNS, Twilio |
| ABB-APP-009 | ETL Platform | Active | Integracion de datos | Informatica |
| ABB-APP-010 | Monitoring Platform | Active | Observabilidad | Datadog |
```

### Vista de Detalle

```markdown
# ABB-APP-001: API Gateway

## Overview
| Campo | Valor |
|-------|-------|
| ID | ABB-APP-001 |
| Nombre | API Gateway |
| Version | 2.0 |
| Estado | Active |
| Dominio | Application |
| Owner | Platform Architecture Team |

## Descripcion
Componente centralizado para gestion de APIs que provee un punto
de entrada unico para consumidores externos e internos.

## Capacidades

### Core
- Routing de requests a servicios backend
- Agregacion de multiples backends
- Transformacion de request/response
- Protocol translation

### Seguridad
- Autenticacion (OAuth, JWT, API Key)
- Autorizacion (scopes, roles)
- Rate limiting y throttling
- IP whitelisting/blacklisting

### Operaciones
- Logging y tracing
- Metricas y analytics
- Health checks
- Caching de responses

## Requisitos No Funcionales

| NFR | Requisito | Prioridad |
|-----|-----------|-----------|
| Latencia | < 10ms overhead | Must |
| Throughput | > 50K req/seg | Must |
| Disponibilidad | 99.99% | Must |
| TLS | 1.2+ | Must |
| Multi-tenant | Soportar multiples equipos | Should |

## Interfaces

| Interface | Protocolo | Descripcion |
|-----------|-----------|-------------|
| Client API | HTTPS | Endpoint para clientes |
| Admin API | HTTPS | Configuracion y gestion |
| Metrics | Prometheus | Exposicion de metricas |

## Dependencias

| ABB | Tipo | Descripcion |
|-----|------|-------------|
| ABB-APP-003 (IdP) | Required | Para autenticacion |
| ABB-APP-010 (Monitoring) | Required | Para observabilidad |
| ABB-APP-006 (Cache) | Optional | Para response caching |

## SBBs Aprobados

| SBB ID | Producto | Estado | Ambiente |
|--------|----------|--------|----------|
| SBB-APP-001-A | Kong Enterprise | Active | Prod, Non-prod |
| SBB-APP-001-B | AWS API Gateway | Active | Prod (AWS workloads) |
| SBB-APP-001-C | Azure APIM | Deprecated | Legacy only |

## Estandares Aplicables
- API Design Guidelines v3.0
- Security Standard SEC-001
- Logging Standard LOG-002

## Documentacion
- [Architecture Decision Record - ADR-2024-015]
- [Reference Architecture - API Platform]
- [Onboarding Guide]
```

---

## Ciclo de Vida de Building Blocks

```
+--------+     +--------+     +--------+     +---------+     +---------+
| DRAFT  |---->| PILOT  |---->| ACTIVE |---->|DEPRECATED|---->| RETIRED |
+--------+     +--------+     +--------+     +---------+     +---------+
    |              |              |               |
    v              v              v               v
 En diseno     Prueba        En uso          Siendo       Fuera de
               limitada      general         reemplazado  uso
```

### Estados

| Estado | Definicion | Uso |
|--------|------------|-----|
| Draft | En proceso de definicion | No usar |
| Pilot | En prueba con alcance limitado | Solo pilotos aprobados |
| Active | Aprobado para uso general | Uso permitido |
| Deprecated | Siendo reemplazado | Solo mantenimiento |
| Retired | Fuera de servicio | Migrar urgente |

### Proceso de Promocion

```markdown
## Draft -> Pilot
- [ ] ABB completamente especificado
- [ ] Al menos 1 SBB candidato evaluado
- [ ] Sponsor identificado para piloto
- [ ] Criterios de exito definidos

## Pilot -> Active
- [ ] Piloto exitoso documentado
- [ ] SBB(s) configuracion finalizada
- [ ] Documentacion completa
- [ ] Equipo de soporte identificado
- [ ] Metricas operacionales definidas

## Active -> Deprecated
- [ ] Alternativa identificada (nuevo ABB o SBB)
- [ ] Plan de migracion publicado
- [ ] Timeline de deprecation comunicado
- [ ] Support policy actualizada

## Deprecated -> Retired
- [ ] Todos los consumidores migrados
- [ ] Backup de datos/config si necesario
- [ ] Decomision de infraestructura
- [ ] Actualizacion de catalogo
```

---

## Busqueda y Descubrimiento

### Por Tags/Categorias

```markdown
## Sistema de Tags

### Tags Funcionales
- authentication, authorization, identity
- messaging, events, queue
- storage, database, cache
- integration, api, etl
- monitoring, logging, tracing

### Tags de Dominio
- business, data, application, technology

### Tags de Estado
- active, deprecated, pilot, draft

### Tags de Compliance
- pci-dss, gdpr, hipaa, sox
```

### Portal de Catalogo

```
+------------------------------------------+
|  BUILDING BLOCK CATALOG                  |
|  [Search: ____________] [Filters v]      |
+------------------------------------------+
|                                          |
|  Categories          Results (12)        |
|  +-------------+     +-----------------+ |
|  | Application |     | ABB-APP-001     | |
|  | Data        |     | API Gateway     | |
|  | Technology  |     | [Active] [Kong] | |
|  | Security    |     +-----------------+ |
|  +-------------+     | ABB-APP-002     | |
|                      | Message Broker  | |
|  Filters             | [Active] [Kafka]| |
|  +-------------+     +-----------------+ |
|  | [x] Active  |     | ...             | |
|  | [ ] Pilot   |     |                 | |
|  | [ ] Deprecated    |                 | |
|  +-------------+     +-----------------+ |
+------------------------------------------+
```

---

## Gobierno del Catalogo

### Roles y Responsabilidades

| Rol | Responsabilidad |
|-----|-----------------|
| Catalog Administrator | Mantener estructura y metadata |
| ABB Owner | Definir y mantener ABBs especificos |
| SBB Owner | Documentar y mantener SBBs |
| Architecture Board | Aprobar nuevos building blocks |

### Metricas del Catalogo

```markdown
## KPIs del Catalogo

| Metrica | Definicion | Objetivo |
|---------|------------|----------|
| Cobertura | % de sistemas usando BBs catalogados | > 80% |
| Reutilizacion | Promedio de usos por BB | > 3 |
| Documentacion | % de BBs con docs completos | 100% |
| Actualizacion | BBs actualizados ultimo ano | 100% |
| Adoption | Nuevos proyectos usando catalogo | > 90% |
```

---

## Resumen

| Concepto | Descripcion |
|----------|-------------|
| Catalogo | Repositorio de todos los building blocks |
| Metadata | Esquema estandarizado de informacion |
| Ciclo de vida | Draft -> Pilot -> Active -> Deprecated -> Retired |
| Descubrimiento | Tags, categorias, busqueda |
| Gobierno | Roles, aprobaciones, metricas |

**Siguiente subtema**: Enterprise Continuum (8.2.1)
