# Estructura del Architecture Repository

**Tiempo estimado**: 30 minutos
**Nivel**: Intermedio-Avanzado
**Prerrequisitos**: Enterprise Continuum (8.2.1)

---

## Por que importa este subtema?

El Architecture Repository es el sistema centralizado donde se almacenan todos los activos arquitectonicos. Una estructura bien definida permite encontrar, reutilizar y gobernar efectivamente la arquitectura de la organizacion.

---

## Que es el Architecture Repository

> "El repositorio que actua como un holding area para todos los artefactos de arquitectura, incluyendo el Enterprise Continuum, el contenido de arquitectura, y el metamodelo."

**Contenido**:
- Artefactos de arquitectura
- Modelos y diagramas
- Building blocks
- Estandares y guidelines
- Decisiones (ADRs)
- Metadatos y relaciones

---

## Componentes del Repository

```
ARCHITECTURE REPOSITORY
|
+-- Architecture Metamodel
|   (Define estructura de contenido)
|
+-- Architecture Capability
|   (Procesos, roles, herramientas)
|
+-- Architecture Landscape
|   (Baseline, Target, Transiciones)
|
+-- Standards Information Base (SIB)
|   (Estandares, guidelines, principios)
|
+-- Reference Library
|   (Arquitecturas de referencia, patrones)
|
+-- Governance Log
    (Decisiones, waivers, compliance)
```

---

## 1. Architecture Metamodel

### Definicion

> "Define los tipos de artefactos arquitectonicos y como se relacionan entre si."

### Estructura

```
METAMODEL
|
+-- Core Entities
|   |
|   +-- Business
|   |   +-- Capability
|   |   +-- Process
|   |   +-- Organization Unit
|   |   +-- Actor/Role
|   |
|   +-- Data
|   |   +-- Data Entity
|   |   +-- Data Object
|   |   +-- Logical Data Model
|   |
|   +-- Application
|   |   +-- Application Component
|   |   +-- Application Service
|   |   +-- Interface
|   |
|   +-- Technology
|       +-- Technology Service
|       +-- Platform
|       +-- Node
|
+-- Relationships
    |
    +-- realizes (App -> Capability)
    +-- uses (App -> Data Entity)
    +-- deploys-on (App -> Platform)
    +-- depends-on (App -> App)
```

### Ejemplo de Metamodel

```markdown
## Entidades Principales

### Business Layer
| Entidad | Atributos Clave | Relaciones |
|---------|-----------------|------------|
| Capability | ID, Name, Level, Status | Parent, Applications |
| Process | ID, Name, Owner, Status | Capabilities, Applications |
| Actor | ID, Name, Type | Processes, Applications |

### Application Layer
| Entidad | Atributos Clave | Relaciones |
|---------|-----------------|------------|
| Application | ID, Name, Status, Type | Capabilities, Data, Technology |
| Service | ID, Name, Interface | Applications |
| Interface | ID, Protocol, Version | Applications |

### Data Layer
| Entidad | Atributos Clave | Relaciones |
|---------|-----------------|------------|
| Data Entity | ID, Name, Domain, Owner | Applications |
| Data Object | ID, Name, Format | Entities |

### Technology Layer
| Entidad | Atributos Clave | Relaciones |
|---------|-----------------|------------|
| Platform | ID, Name, Type, Provider | Applications |
| Service | ID, Name, Type | Platforms |
```

---

## 2. Architecture Landscape

### Definicion

> "Representacion de los assets arquitectonicos en uso y planificados, organizados temporalmente."

### Estructura

```
ARCHITECTURE LANDSCAPE
|
+-- Baseline Architecture
|   (Estado actual)
|   |
|   +-- Business Architecture
|   +-- Data Architecture
|   +-- Application Architecture
|   +-- Technology Architecture
|
+-- Target Architecture
|   (Estado futuro deseado)
|   |
|   +-- [Misma estructura]
|
+-- Transition Architectures
|   (Estados intermedios)
|   |
|   +-- Transition 1
|   +-- Transition 2
|   +-- ...
|
+-- Architecture Versions
    (Historial)
```

### Organizacion por Scope

```
                    LANDSCAPE VIEW
                         |
     +-------------------+-------------------+
     |                   |                   |
     v                   v                   v
STRATEGIC           SEGMENT             CAPABILITY
(Enterprise-wide)   (Line of Business)  (Project level)
     |                   |                   |
     v                   v                   v
EA Principles       Domain Arch         Solution Arch
EA Roadmap          Segment Roadmap     Project Design
Capability Map      Application Port.   Component Design
```

---

## 3. Standards Information Base (SIB)

### Contenido

```markdown
## Standards Information Base

### Estandares Tecnicos
| Categoria | Standard | Version | Estado |
|-----------|----------|---------|--------|
| Programming | Java | 17+ | Mandatory |
| Programming | Python | 3.10+ | Approved |
| Database | PostgreSQL | 15+ | Preferred |
| Database | MongoDB | 6+ | Approved |
| Container | Kubernetes | 1.28+ | Mandatory |
| Cloud | AWS | Current | Preferred |
| Cloud | Azure | Current | Approved |

### Guidelines
| Documento | Descripcion | Ultima revision |
|-----------|-------------|-----------------|
| API Design Guidelines | Como disenar APIs REST | 2026-01-15 |
| Security Standards | Requisitos de seguridad | 2026-02-01 |
| Data Classification | Como clasificar datos | 2025-11-20 |
| Logging Standards | Formato y nivel de logs | 2025-12-10 |

### Principios de Arquitectura
| ID | Principio | Descripcion |
|----|-----------|-------------|
| P01 | API First | Toda funcionalidad expuesta como API |
| P02 | Cloud Native | Disenar para cloud desde inicio |
| P03 | Security by Design | Seguridad integrada, no anadida |
| P04 | Data Sovereignty | Datos en region apropiada |
```

---

## 4. Reference Library

### Contenido

```markdown
## Reference Library

### Arquitecturas de Referencia
| Nombre | Dominio | Ultima version |
|--------|---------|----------------|
| Cloud Reference Architecture | Technology | v2.1 |
| API Platform Architecture | Application | v1.5 |
| Data Lake Architecture | Data | v1.3 |
| Security Reference Architecture | Cross-cutting | v2.0 |

### Patrones
| Patron | Categoria | Documentacion |
|--------|-----------|---------------|
| Strangler Fig | Migration | [Link] |
| CQRS | Data | [Link] |
| Saga | Transaction | [Link] |
| API Gateway | Integration | [Link] |
| Event Sourcing | Data | [Link] |

### Templates
| Template | Uso |
|----------|-----|
| Solution Architecture Document | Proyectos nuevos |
| Architecture Decision Record | Decisiones |
| Integration Design | Integraciones |
| Security Assessment | Evaluacion seguridad |
```

---

## 5. Governance Log

### Contenido

```markdown
## Governance Log

### Architecture Decisions (ADRs)
| ID | Titulo | Fecha | Estado |
|----|--------|-------|--------|
| ADR-001 | Adoptar Kubernetes como plataforma | 2024-03 | Accepted |
| ADR-002 | PostgreSQL como DB preferida | 2024-06 | Accepted |
| ADR-003 | Migrar a event-driven | 2025-01 | Accepted |
| ADR-004 | Evaluar GraphQL | 2025-06 | Proposed |

### Compliance Assessments
| Proyecto | Fecha | Resultado | Issues |
|----------|-------|-----------|--------|
| CRM Migration | 2026-01-15 | Pass w/conditions | 2 |
| New Portal | 2026-01-20 | Pass | 0 |
| Data Lake v2 | 2026-02-01 | Pending | - |

### Waivers
| ID | Standard | Proyecto | Justificacion | Expira |
|----|----------|----------|---------------|--------|
| W-001 | Java 17 | Legacy App | Dependencias | 2026-06 |
| W-002 | Cloud-only | Finance | Regulacion | 2027-01 |

### Change Requests
| ID | Titulo | Estado | Fecha |
|----|--------|--------|-------|
| RFC-042 | Migrate to Kong | Approved | 2026-03-20 |
| RFC-043 | New MDM | In Review | - |
```

---

## Organizacion Fisica del Repositorio

### Estructura de Carpetas

```
architecture-repository/
|
+-- metamodel/
|   +-- entity-definitions/
|   +-- relationship-definitions/
|   +-- validation-rules/
|
+-- landscape/
|   +-- baseline/
|   |   +-- business/
|   |   +-- data/
|   |   +-- application/
|   |   +-- technology/
|   +-- target/
|   +-- transitions/
|
+-- standards/
|   +-- technology-standards/
|   +-- guidelines/
|   +-- principles/
|   +-- templates/
|
+-- reference-library/
|   +-- reference-architectures/
|   +-- patterns/
|   +-- building-blocks/
|
+-- governance/
|   +-- decisions/
|   +-- compliance/
|   +-- waivers/
|   +-- change-requests/
|
+-- projects/
    +-- [project-name]/
        +-- vision/
        +-- requirements/
        +-- design/
        +-- decisions/
```

---

## Herramientas para el Repository

### Opciones

| Herramienta | Tipo | Fortaleza |
|-------------|------|-----------|
| Sparx EA | Enterprise | Modelado completo |
| LeanIX | SaaS | Portfolio management |
| Ardoq | SaaS | Grafos y relaciones |
| Archi | Open source | ArchiMate modeling |
| Confluence + JIRA | Docs + Workflow | Colaboracion |
| Git + Markdown | Version control | Developer-friendly |
| Backstage | Developer Portal | Service catalog |

### Arquitectura Hibrida

```
+------------------+     +------------------+
|   EA Tool        |     |   Git Repo       |
|   (Sparx/LeanIX) |     |   (IaC, ADRs)    |
+--------+---------+     +--------+---------+
         |                        |
         +------------+-----------+
                      |
              +-------v-------+
              |  Aggregation  |
              |  Layer        |
              |  (API/Portal) |
              +-------+-------+
                      |
              +-------v-------+
              |  Developer    |
              |  Portal       |
              |  (Backstage)  |
              +---------------+
```

---

## Gobierno del Repositorio

### Roles

| Rol | Responsabilidad |
|-----|-----------------|
| Repository Owner | Estrategia y estructura general |
| Content Curator | Calidad y consistencia |
| Domain Steward | Contenido de su dominio |
| Tool Administrator | Herramientas y accesos |

### Procesos

```markdown
## Procesos de Gobierno

### Publicacion de Contenido
1. Autor crea/actualiza contenido
2. Revision por Domain Steward
3. Validacion contra metamodel
4. Publicacion en repositorio
5. Notificacion a interesados

### Revision Periodica
- Trimestral: Revisar vigencia de contenido
- Anual: Audit completo del repositorio
- Continuo: Metricas de uso

### Mantenimiento
- Archivar contenido obsoleto
- Actualizar referencias rotas
- Sincronizar con realidad
```

---

## Resumen

| Componente | Contenido |
|------------|-----------|
| Metamodel | Estructura y relaciones |
| Landscape | Baseline, Target, Transiciones |
| SIB | Estandares, guidelines, principios |
| Reference Library | Arquitecturas de referencia, patrones |
| Governance Log | Decisiones, compliance, waivers |

**Siguiente modulo**: Marco de Capacidad de Arquitectura (Modulo 9)
