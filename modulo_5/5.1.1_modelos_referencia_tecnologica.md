# Modelos de Referencia Tecnologica (TRM)

**Tiempo estimado**: 30 minutos
**Nivel**: Intermedio
**Prerrequisitos**: Modulo 4 completo (Arquitectura de SI)

---

## Por que importa este subtema?

El Technical Reference Model (TRM) de TOGAF proporciona una taxonomia para clasificar y organizar los componentes de la plataforma tecnologica. Sin un modelo de referencia:

- Cada arquitecto usa su propia clasificacion
- No hay lenguaje comun para discutir tecnologia
- Es dificil identificar gaps y redundancias

El TRM es el "mapa" de la tecnologia, no una prescripcion de que usar.

---

## Que es el TRM

> "El Technical Reference Model (TRM) es una estructura y taxonomia de servicios de plataforma genericos que proporciona un marco para definir la tecnologia de soporte de una organizacion."

**Proposito**:
- Clasificar componentes de tecnologia
- Identificar servicios de plataforma necesarios
- Evaluar productos contra categorias
- Comunicar arquitectura tecnologica

---

## Estructura del TRM de TOGAF

```
+------------------------------------------------------------------+
|                        APLICACIONES                               |
+------------------------------------------------------------------+
|                        |
|                        | usan
|                        v
+------------------------------------------------------------------+
|              SERVICIOS DE INFRAESTRUCTURA                         |
|                                                                   |
|  +----------------+  +----------------+  +----------------+       |
|  | Servicios de   |  | Servicios de   |  | Servicios de   |       |
|  | Datos          |  | Comunicacion   |  | Procesamiento  |       |
|  +----------------+  +----------------+  +----------------+       |
|                                                                   |
|  +----------------+  +----------------+  +----------------+       |
|  | Servicios de   |  | Servicios de   |  | Servicios de   |       |
|  | Interfaz       |  | Seguridad      |  | Gestion        |       |
|  +----------------+  +----------------+  +----------------+       |
|                                                                   |
+------------------------------------------------------------------+
|                        |
|                        | sobre
|                        v
+------------------------------------------------------------------+
|               PLATAFORMA (Hardware, Sistema Operativo)            |
+------------------------------------------------------------------+
```

---

## Categorias de Servicios

### 1. Servicios de Datos

| Subcategoria | Descripcion | Ejemplos |
|--------------|-------------|----------|
| Data Management | Almacenamiento y recuperacion | RDBMS, NoSQL, Object Storage |
| Data Interchange | Intercambio entre sistemas | ETL, APIs, Message Queues |
| Data Dictionary | Metadata de datos | Data Catalog, MDM |

### 2. Servicios de Comunicacion

| Subcategoria | Descripcion | Ejemplos |
|--------------|-------------|----------|
| Networking | Conectividad de red | TCP/IP, DNS, Load Balancers |
| Messaging | Comunicacion asincrona | Kafka, RabbitMQ, SQS |
| File Transfer | Transferencia de archivos | SFTP, S3, Azure Blob |

### 3. Servicios de Procesamiento

| Subcategoria | Descripcion | Ejemplos |
|--------------|-------------|----------|
| Compute | Ejecucion de aplicaciones | VMs, Containers, Serverless |
| Batch Processing | Procesamiento por lotes | Spark, Airflow, Step Functions |
| Workflow | Orquestacion de procesos | Camunda, Temporal, AWS SWF |

### 4. Servicios de Interfaz

| Subcategoria | Descripcion | Ejemplos |
|--------------|-------------|----------|
| User Interface | Presentacion a usuarios | Web frameworks, Mobile |
| API Management | Exposicion de APIs | Kong, Apigee, AWS API Gateway |
| Integration | Conexion entre sistemas | MuleSoft, Dell Boomi |

### 5. Servicios de Seguridad

| Subcategoria | Descripcion | Ejemplos |
|--------------|-------------|----------|
| Identity | Autenticacion | Okta, Azure AD, Auth0 |
| Access Control | Autorizacion | IAM, RBAC, ABAC |
| Cryptography | Encriptacion | KMS, HSM, SSL/TLS |
| Audit | Trazabilidad | SIEM, CloudTrail |

### 6. Servicios de Gestion

| Subcategoria | Descripcion | Ejemplos |
|--------------|-------------|----------|
| Monitoring | Observabilidad | Datadog, Prometheus, CloudWatch |
| Logging | Registros | ELK Stack, Splunk |
| Configuration | Gestion de config | Ansible, Terraform, Consul |
| Deployment | Despliegue | Jenkins, GitLab CI, ArgoCD |

---

## Usando el TRM

### Paso 1: Mapear tecnologias actuales

```markdown
## Technology Portfolio Map (Baseline)

| Categoria TRM | Subcategoria | Tecnologia Actual | Estado |
|---------------|--------------|-------------------|--------|
| Datos | Data Management | Oracle 19c | Strategic |
| Datos | Data Management | MongoDB 5.0 | Tactical |
| Comunicacion | Messaging | IBM MQ | Containment |
| Comunicacion | Messaging | Kafka 3.0 | Strategic |
| Procesamiento | Compute | VMware vSphere | Tactical |
| Procesamiento | Compute | Kubernetes (EKS) | Strategic |
| Seguridad | Identity | Active Directory | Strategic |
| Seguridad | Identity | Okta | Strategic |
| Gestion | Monitoring | Nagios | Retire |
| Gestion | Monitoring | Datadog | Strategic |
```

### Paso 2: Identificar gaps

```markdown
## Gap Analysis - Categorias TRM

| Categoria | Baseline | Target | Gap |
|-----------|----------|--------|-----|
| Datos - Streaming | No existe | Kafka Streams | NUEVO |
| Datos - Data Lake | Hadoop on-prem | S3 + Athena | MIGRAR |
| Procesamiento - Serverless | No existe | Lambda/Functions | NUEVO |
| Seguridad - Zero Trust | Perimetral | SASE | TRANSFORMAR |
| Gestion - GitOps | Manual deploys | ArgoCD | NUEVO |
```

### Paso 3: Definir estandares por categoria

```markdown
## Technology Standards (Target)

| Categoria TRM | Subcategoria | Estandar Aprobado | Excepciones |
|---------------|--------------|-------------------|-------------|
| Datos | RDBMS | PostgreSQL 15 | Oracle para SAP |
| Datos | NoSQL Document | MongoDB Atlas | - |
| Datos | Cache | Redis Enterprise | - |
| Comunicacion | Messaging | Confluent Kafka | SQS para serverless |
| Procesamiento | Containers | EKS (Kubernetes) | - |
| Procesamiento | Serverless | AWS Lambda | - |
| Seguridad | Identity | Okta | AD para legacy |
| Gestion | IaC | Terraform | - |
| Gestion | CI/CD | GitLab CI | - |
```

---

## TRM Adaptado: Ejemplo E-commerce

```
+------------------------------------------------------------------+
|                    APLICACIONES E-COMMERCE                        |
|  Portal Web | App Movil | Back-office | Integraciones             |
+------------------------------------------------------------------+
                            |
                            v
+------------------------------------------------------------------+
|              SERVICIOS DE INFRAESTRUCTURA                         |
|                                                                   |
|  DATOS                 COMUNICACION         PROCESAMIENTO         |
|  +----------------+    +----------------+   +----------------+    |
|  | PostgreSQL     |    | Apache Kafka   |   | EKS            |    |
|  | MongoDB        |    | API Gateway    |   | Lambda         |    |
|  | Redis          |    | CloudFront CDN |   | Step Functions |    |
|  | S3 Data Lake   |    | Route 53       |   | ECS Fargate    |    |
|  +----------------+    +----------------+   +----------------+    |
|                                                                   |
|  INTERFAZ              SEGURIDAD            GESTION               |
|  +----------------+    +----------------+   +----------------+    |
|  | React (Web)    |    | Okta (IdP)     |   | Datadog        |    |
|  | React Native   |    | AWS WAF        |   | GitLab CI/CD   |    |
|  | Kong Gateway   |    | KMS            |   | Terraform      |    |
|  | GraphQL        |    | CloudTrail     |   | PagerDuty      |    |
|  +----------------+    +----------------+   +----------------+    |
|                                                                   |
+------------------------------------------------------------------+
                            |
                            v
+------------------------------------------------------------------+
|                    PLATAFORMA AWS                                 |
|  EC2 | EKS | RDS | S3 | VPC | IAM | CloudWatch                   |
+------------------------------------------------------------------+
```

---

## Beneficios del TRM

| Beneficio | Descripcion |
|-----------|-------------|
| Lenguaje comun | Todos usan mismas categorias |
| Identificar gaps | Ver que categorias no tienen solucion |
| Evaluar productos | Comparar contra categorias, no entre si |
| Reducir redundancia | Detectar multiples productos en misma categoria |
| Planificar roadmap | Saber que migrar en cada categoria |

---

## Resumen

| Concepto | Descripcion |
|----------|-------------|
| TRM | Taxonomia de servicios de plataforma |
| Categorias | Datos, Comunicacion, Procesamiento, Interfaz, Seguridad, Gestion |
| Uso | Clasificar, mapear, identificar gaps |
| Estandares | Definir tecnologia aprobada por categoria |

**Siguiente subtema**: Estandares Tecnologicos (5.1.2)
